import{Delegate}from"//sofanacaixa.com.br/cdn/shop/t/62/assets/vendor.min.js?v=101728284033374364961727801287";const _transformForm=spr=>{const labels=Array.from(spr.querySelectorAll(".spr-form-label")),buttons=Array.from(spr.querySelectorAll(".spr-form-actions .spr-button"));spr.querySelector(".spr-form-contact")?.classList.add("input-row"),spr.querySelector(".spr-form-review")?.classList.add("fieldset"),labels.forEach(label=>{label.control&&(label.className="floating-label",label.control.placeholder=" ",label.control.tagName==="INPUT"?label.control.className="input is-floating":label.control.tagName==="TEXTAREA"&&(label.control.className="textarea is-floating",label.control.rows=5),label.control.insertAdjacentElement("afterend",label))}),buttons.forEach(button=>{button.classList.add("button","button--primary","button--xl")})};window.SPRCallbacks={onProductLoad:(event,params)=>{const spr=document.querySelector(`#shopify-product-reviews[data-id="${params.id}"]`),section=spr.closest(".shopify-section--apps");if(!section)return;const headerTemplate=section.querySelector("#shopify-reviews-custom-header");headerTemplate&&(spr.classList.add("custom-spr"),spr.prepend(headerTemplate.content.cloneNode(!0)))},onReviewsLoad:(event,params)=>{const spr=document.querySelector(`#shopify-product-reviews[data-id="${params.id}"]`);spr.querySelector(".spr-reviews").childElementCount===0&&(spr.querySelector(".spr-form").style.display="block")},onFormLoad:(event,params)=>{_transformForm(document.querySelector(`#shopify-product-reviews[data-id="${params.id}"]`))},onFormSuccess:(event,params)=>{const spr=document.querySelector(`#shopify-product-reviews[data-id="${params.id}"]`);spr.querySelector(".spr-form-message-success").className="spr-form-banner banner banner--success justify-center"},onFormFailure:(event,params)=>{const spr=document.querySelector(`#shopify-product-reviews[data-id="${params.id}"]`);spr.querySelector(".spr-form-message-error").className="spr-form-banner banner banner--error justify-center",_transformForm(spr)}};class CustomSprHeader extends HTMLElement{constructor(){super(),this._delegate=new Delegate(this),this._delegate.on("click","button",this._toggleForm.bind(this))}_toggleForm(){parseInt(this.getAttribute("review-count"))!==0&&SPR.toggleForm(this.getAttribute("product-id"))}}window.customElements.get("custom-spr-header")||window.customElements.define("custom-spr-header",CustomSprHeader);
//# sourceMappingURL=/cdn/shop/t/62/assets/apps.js.map?v=37430536745140353701727801297
